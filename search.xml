<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[react-native开发碰到的问题及插件整理]]></title>
    <url>%2F2019%2F02%2F19%2Freact-native%E5%BC%80%E5%8F%91%E7%A2%B0%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98%E5%8F%8A%E6%8F%92%E4%BB%B6%E6%95%B4%E7%90%86%2F</url>
    <content type="text"><![CDATA[1. uncompiled PNG file描述：该问题出现在打包成release apk的时候12/Users/almouro/bam/uefa/TestGradle3/android/app/build/intermediates/res/merged/release/drawable-mdpi/image.png: error: uncompiled PNG file passed as argument. Must be compiled first into .flat file..error: failed parsing overlays. 解决方法：打开 android/gradle.properties 文件添加 android.enableAapt2=false 查看: github issues uncompiled PNG file 2. react-native modal 组件描述： 在使用react-native modal 组件的时候发现模态框并没有覆盖到手机状态栏 解决方法：react-native-modal-translucent 3. react-native 键盘弹出导致绝对定位元素上浮描述：当软键盘通过textInput组件唤起的时候，绝对定位元素上浮 解决方法：打开AndroidManifest.xml文件修改activity 中的 android:windowSoftinputMode=&quot;stateAlwaysHidden|adjustpan&quot; 参考连接：原文 windowSoftinputMode介绍：Developers 4. react-native 软键盘遮住textInput描述：当页面有多个 textInput 输入框，底部输入框唤起软键盘时会被遮住 解决方法：react-native-keyboard-aware-scroll-view 使用方法：12345678910111213import &#123; KeyboardAwareScrollView &#125; from &apos;react-native-keyboard-aware-scroll-view&apos;.........&lt;KeyboardAwareScrollView&gt; &lt;View&gt; &lt;TextInput /&gt; &lt;TextInput /&gt; &lt;TextInput /&gt; &lt;/View&gt;&lt;/KeyboardAwareScrollView&gt;...... 5. react-native 蓝牙通信描述：蓝牙分两种通信模式(BEL蓝牙 和 经典蓝牙)，对于BLE蓝牙推荐使用react-native-ble-manager 组件，对于经典蓝牙推荐使用react-native-bluetooth-serial 解决方法： BLE蓝牙：react-native-ble-manager 经典蓝牙: react-native-bluetooth-serial]]></content>
  </entry>
  <entry>
    <title></title>
    <url>%2F2019%2F02%2F12%2FsetMonth%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[setMonth导致获取月份错误 问题重现 1234 // 比如今天是 2017-03-31 号，理论上后推一个月应该是4月 let now = new Date(new Date(&quot;2017-03-31&quot;).setMonth(new Date(&quot;2017-03-31&quot;).getMonth() + 1))console.log(&apos;now :&apos;, now.getMonth())// 结果是：now : 2017/5/1 上午8:00:00 实际的结果和预想的结果不一致！！ MDN解释： If you do not specify the dayValue parameter, the value returned from the getDate() method is used.If a parameter you specify is outside of the expected range, setMonth() attempts to update the date information in the Date object accordingly. For example, if you use 15 for monthValue, the year will be incremented by 1, and 3 will be used for month.The current day of month will have an impact on the behaviour of this method. Conceptually it will add the number of days given by the current day of the month to the 1st day of the new month specified as the parameter, to return the new date. For example, if the current value is 31st August 2016, calling setMonth with a value of 1 will return 2nd March 2016. This is because in 2016 February had 29 days. 查看MDN解释 简单来说就是：对当前的日期调用setMonth操作时，如果当前月份的天数大于新的月份天数，那么日期会依次向后推。1234567let now = new Date(new Date(&quot;2017-03-31&quot;).setMonth(new Date(&quot;2017-03-31&quot;).getMonth() + 1))console.log(&apos;now :&apos;, now.toLocaleString())// now : 2017/5/1 上午8:00:00// 2017-03-31 该月份有31天，当调用getMonth() + 1时// 理论上会加上当前月份的最大值31// 这时计算之后的日期是2017-04-31// 但是4月只有30天，所以后推一天变成2017-05-01,所以月份变成了5月 解决方法 setMonth之前先setDate(1) 12345678function getNextMonth(date) &#123; const now = new Date(date); now.setDate(1); now.setMonth(now.getMonth() + 1); return now.getMonth() + 1;&#125;console.log(getNextMonth(&quot;2017-03-31&quot;))// 4 结果正确]]></content>
  </entry>
</search>
